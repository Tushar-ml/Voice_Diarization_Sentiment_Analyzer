<!DOCTYPE html>
<html>
<head>
    <title>Visualization</title>

    <meta charset="utf-8">
    <script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.js"></script>
    <script type="text/javascript" charset="utf-8"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    

    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/pricing/">

    <!-- Bootstrap core CSS -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
 

</head>
<body>
    
                 <style>
                    body {
                      background-image: url('static/dashboard1.png');
                      background-repeat: no-repeat;
                      background-attachment: fixed;
                      background-size: cover;
                    }
                </style>
                 <br>
                  <center><img src='static/logo.png' height='35'></center>
                <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
                  {% if speaker == 0 %}
                    <h1 class="display-4">Visualization for Overall Voice</h1>
                  {% else %}

                    <h1 class="display-4">Visualization for Speaker {{ speaker }}</h1>

                  {% endif %}
                  <a href="/upload" class="btn btn-primary btn-lg active" role="button" aria-pressed="true">< Back</a>
                  <a href="/" class="btn btn-primary btn-lg active" role="button" aria-pressed="true">Home</a>

                </div>
                <center><div id='diarization'>Conversion of Audio....</div></center>
                <center><div id='dia'></div></center>
                <center><form method='POST' action='/analyze_file'>
                      Speaker:<input  name='speaker' default=0><br>
                      <br>
                      <input type=submit value=Show>
                   
                </form>
                </center>
                  <div class="container">
                      <div class="card-deck mb-3 text-center">
                      <div class="card mb-4 box-shadow">
                                <div class="card-header">
                                  <h4 class="my-0 font-weight-normal">Audio Visualization</h4>
                                </div>
                                <div class="card-body" style="background-image: url('static/dashboard1.png'); background-repeat: no-repeat; background-attachment: fixed; background-size: cover;">
                                  <img src="data:image/png;base64,{{ results }}" class='img-fluid' width="500" id='visualize1'>
                                </div>
                          </div>
                      </div>
                  </div>
                  <div class="container">
                    <div class="card-deck mb-3 text-center">
                      <div class="card mb-4 box-shadow">
                        <div class="card-header">
                          <h4 class="my-0 font-weight-normal">Sentiment Pie</h4>
                        </div>
                        <div class="card-body" style="background-image: url('static/dashboard1.png'); background-repeat: no-repeat; background-attachment: fixed; background-size: cover;">
                          
                         <img src="data:image/png;base64,{{ results2 }}" class='img-fluid' width="500" id='visualize3'>
                         
                        </div>
                    </div>
                  <div class="card mb-4 box-shadow">
                        <div class="card-header">
                          <h4 class="my-0 font-weight-normal">Sentiment Bar</h4>
                        </div>
                        <div class="card-body" style="background-image: url('static/dashboard1.png'); background-repeat: no-repeat; background-attachment: fixed; background-size: cover;">
                          <img src="data:image/png;base64,{{ results1 }}" class='img-fluid' width="500" id='visualize2'>
                        </div>
                      </div>
                  
                  </div>
              </div>
              <script src="https://code.jquery.com/jquery-1.9.1.min.js" integrity="sha256-wS9gmOZBqsqWxgIVgA8Y9WcQOa7PgSIX+rPA0VL2rbQ=" crossorigin="anonymous"></script>
              <script>
                /*$(document).ready( function(){
                      $('#diarization').load('/diarization');
                      refresh();
                      });
                       function refresh()
                          {
                            setTimeout( function() {
                              $('#diarization').fadeOut('slow').load('/diarization').fadeIn('slow');
                              refresh();
                            }, 2000);
                          }*/
                 $(document).ready( function(){
                      $('#dia').load('/dia');
                      });
                 /*$(document).ready( function(){
                $('#visualize1').load('/visualize1')[0].src = 'static/index.png';
                $('#visualize2').load('/visualize2')[0].src = 'static/index.png';
                $('#visualize3').load('/visualize3')[0].src = 'static/index.png';
                refresh_1();
                refresh_2();
                refresh_3();
                });
                 
                function refresh_1()
                {
                  setTimeout( function() {
                    var s1 = "data:image/png;base64,"
                    $('#visualize1').load('/visualize1')[0].src = s1.concat($('#visualize1').load('/visualize1')[0].textContent) ;
                    
                    // console.log($('#visualize1').load('/visualize1') )
                    refresh_1();
                  }, 500);
                }

                function refresh_2()
                {
                  setTimeout( function() {
                    var s1 = "data:image/png;base64,"
                    $('#visualize2').load('/visualize2')[0].src = s1.concat($('#visualize2').load('/visualize2')[0].textContent) ;
                    
                    // console.log($('#visualize1').load('/visualize1') )
                    refresh_2();
                  }, 500);
                }
                function refresh_3()
                {
                  setTimeout( function() {
                    var s1 = "data:image/png;base64,"
                    $('#visualize3').load('/visualize3')[0].src = s1.concat($('#visualize3').load('/visualize3')[0].textContent) ;
                    
                    // console.log($('#visualize1').load('/visualize1') )
                    refresh_3();
                  }, 500);
                } */
              </script>
              
          
      </body>
      </html>
